#coding=utf-8

import socket
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM,0)
#也可以使用s=socket.socket()来通过默认参数来生成TCP的流套接字
#host=''   host可以为空，表示bind()函数可以绑定在所有有效地地址上
host='localhost'
port=1235
s.bind((host,port))#注意，bind函数的参数只有一个，是（host,port）的元组
s.listen(3)
while True:
    client,ipaddr=s.accept()
    print("Got a connect from {0}".format(str(ipaddr)))
    data=client.recv(1024)
    print("receive data:%s" %data)
    client.send(b"echo:"+data)
    client.close()